{% extends 'base.html.twig' %}

{% block title %}Liste des candidatures{% endblock %}

{% block body %}
    <div class="container mt-4">
        <h1 class="mb-4">ðŸ“‹ Suivi des candidatures</h1>
        {% for message in app.flashes('success') %}
            <div class="alert alert-success">
                {{ message }}
            </div>
        {% endfor %}
        <a href="{{ path('application_new') }}" class="btn btn-primary mb-3">Nouvelle candidature</a>

        <table class="table table-striped table-bordered">
            <thead class="table-dark">
            <tr>
{#                <th>ID</th>#}
                <th>Poste</th>
                <th>Entreprise</th>
                <th>Lien</th>
                <th>Date de candidature</th>
                <th>Lettre de motivation</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for application in applications %}
                <tr>
{#                    <td>{{ application.id }}</td>#}
                    <td>{{ application.jobTitle }}</td>
                    <td>{{ application.companyName }}</td>
                    <td>
                        {% if application.jobLink %}
                            <a href="{{ application.jobLink }}" target="_blank">Voir</a>
                        {% else %}
                            -
                        {% endif %}
                    </td>
                    <td>{{ application.applicationDate|date('d/m/Y') }}</td>
                    <td>
                        {{ application.coverLetter }}
                    </td>
                    <td>
{#                        <a href="{{ path('application_show', {'id': application.id}) }}" class="btn btn-sm btn-outline-secondary">Voir</a>#}
                        <a href="{{ path('application_edit', {'id': application.id}) }}" class="btn btn-sm btn-outline-primary">Modifier</a>
                        <a href="{{ path('application_delete', {'id': application.id}) }}" class="btn btn-sm btn-outline-danger">Supprimer</a>
                        {# Tu peux ajouter une action supprimer ici si tu veux #}
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="6" class="text-center">Aucune candidature enregistrÃ©e.</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
